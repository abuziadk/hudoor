<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>الطلاب الغائبين</title>
<style>
body {font-family: "Tajawal", sans-serif; background:#f4f6f8; margin:0; padding:0; text-align:center;}
.container {max-width:600px; margin:30px auto; background:#fff; padding:20px; border-radius:15px; box-shadow:0 4px 15px rgba(0,0,0,0.1);}
h2 {color:#1a73e8;}
table {width:100%; margin-top:15px; border-collapse:collapse;}
th, td {padding:10px; border-bottom:1px solid #ddd;}
th {background:#1a73e8; color:#fff;}
</style>
</head>
<body>
<div class="container">
<h2>الطلاب الغائبين</h2>
<table id="absentTable">
<tr><th>الاسم</th><th>رقم الهوية</th><th>الصف</th><th>الفصل</th></tr>
</table>

<a href="attendance.html" style="color:#1a73e8; display:block; margin-top:10px;">العودة لسجل الحضور</a>
</div>

<script>
const students = JSON.parse(localStorage.getItem('students') || '[]');
const attendance = JSON.parse(localStorage.getItem('attendance') || '[]');

const absentTable = document.getElementById('absentTable');

const presentIds = attendance.map(a=>a.studentId);
const absents = students.filter(s => !presentIds.includes(s.studentId));

absents.forEach(s=>{
    absentTable.innerHTML += `<tr>
        <td>${s.name}</td>
        <td>${s.civilId || ''}</td>
        <td>${s.grade || ''}</td>
        <td>${s.section || ''}</td>
    </tr>`;
});
</script>
</body>
</html>
